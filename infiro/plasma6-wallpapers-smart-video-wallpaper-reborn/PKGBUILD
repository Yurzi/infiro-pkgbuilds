# Maintainer: Yurzi <yurzi@foxmail.com>

_gitname=plasma-smart-video-wallpaper-reborn
pkgname=plasma6-wallpapers-smart-video-wallpaper-reborn
pkgver=2.10.0
pkgrel=2
pkgdesc="Smart KDE Plasma 6 Wallpaper plugin to play videos on your Desktop/Lock Screen"
arch=('any')
url="https://github.com/luisbocanegra/$_gitname"
license=('GPL3')
depends=('plasma-workspace' 'qt6-multimedia' 'qt6-multimedia-backend')
makedepends=('extra-cmake-modules' 'gettext')
source=("${_gitname}-${pkgver}.tar.gz::$url/archive/v${pkgver}/${_gitname}-${pkgver}.tar.gz")
sha256sums=('f850f0a45c0ae2ebdfe4faf31e9fdb397c438138dcdd0c16da77ea0f7380f296')

build() {
	cd "${srcdir}/${_gitname}-$pkgver" || exit
	cmake -B build -S .
	cmake --build build
}

package() {
	cd "${srcdir}/${_gitname}-$pkgver"
	DESTDIR="$pkgdir" cmake --install build
	chmod 755 "$pkgdir/usr/share/plasma/wallpapers/luisbocanegra.smart.video.wallpaper.reborn/contents/ui/tools/gdbus_get_signal.sh"
}
